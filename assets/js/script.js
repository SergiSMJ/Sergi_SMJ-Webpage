"use strict";!function(){function e(){i=$(window).scrollTop(),$(window).scroll(function(){i=$(window).scrollTop(),i>10?$(".masthead").stop(!0,!0).addClass("nav-scrolled",500):$(".masthead").stop(!0,!0).removeClass("nav-scrolled",500)})}function t(){function e(e,t){e.each(function(){$(this).offset().top>$(window).scrollTop()+$(window).height()*t&&$(this).find(".cd-timeline-img, .cd-timeline-content").addClass("is-hidden")})}function t(e,t){e.each(function(){$(this).offset().top<=$(window).scrollTop()+$(window).height()*t&&$(this).find(".cd-timeline-img").hasClass("is-hidden")&&$(this).find(".cd-timeline-img, .cd-timeline-content").removeClass("is-hidden").addClass("bounce-in")})}var i=$(".cd-timeline-block"),n=.8;e(i,n),$(window).on("scroll",function(){window.requestAnimationFrame?window.requestAnimationFrame(function(){t(i,n)}):setTimeout(function(){t(i,n)},100)})}var i;$(document).ready(function(){e(),t()})}(),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e){if(null===p){for(var t=e.length,i=0,n=document.getElementById(a),s="<ul>";i<t;)s+="<li>"+e[i]+"</li>",i++;n.innerHTML=s+"</ul>"}else p(e)}function t(e){return e.replace(/<b[^>]*>(.*?)<\/b>/gi,function(e,t){return t}).replace(/class="(?!(tco-hidden|tco-display|tco-ellipsis))+.*?"|data-query-source=".*?"|dir=".*?"|rel=".*?"/gi,"")}function i(e){e=e.getElementsByTagName("a");for(var t=e.length-1;0<=t;t--)e[t].setAttribute("target","_blank")}function n(e,t){for(var i=[],n=new RegExp("(^| )"+t+"( |$)"),s=e.getElementsByTagName("*"),a=0,l=s.length;a<l;a++)n.test(s[a].className)&&i.push(s[a]);return i}function s(e){if(void 0!==e&&0<=e.innerHTML.indexOf("data-srcset"))return e=e.innerHTML.match(/data-srcset="([A-z0-9%_\.-]+)/i)[0],decodeURIComponent(e).split('"')[1]}var a="",l=20,o=!0,r=[],d=!1,c=!0,m=!0,h=null,u=!0,w=!0,p=null,f=!0,g=!1,v=!0,T=!0,b=!1,C=null,y={fetch:function(e){if(void 0===e.maxTweets&&(e.maxTweets=20),void 0===e.enableLinks&&(e.enableLinks=!0),void 0===e.showUser&&(e.showUser=!0),void 0===e.showTime&&(e.showTime=!0),void 0===e.dateFunction&&(e.dateFunction="default"),void 0===e.showRetweet&&(e.showRetweet=!0),void 0===e.customCallback&&(e.customCallback=null),void 0===e.showInteraction&&(e.showInteraction=!0),void 0===e.showImages&&(e.showImages=!1),void 0===e.linksInNewWindow&&(e.linksInNewWindow=!0),void 0===e.showPermalinks&&(e.showPermalinks=!0),void 0===e.dataOnly&&(e.dataOnly=!1),d)r.push(e);else{d=!0,a=e.domId,l=e.maxTweets,o=e.enableLinks,m=e.showUser,c=e.showTime,w=e.showRetweet,h=e.dateFunction,p=e.customCallback,f=e.showInteraction,g=e.showImages,v=e.linksInNewWindow,T=e.showPermalinks,b=e.dataOnly;var t=document.getElementsByTagName("head")[0];null!==C&&t.removeChild(C),C=document.createElement("script"),C.type="text/javascript",C.src="https://cdn.syndication.twimg.com/widgets/timelines/"+e.id+"?&lang="+(e.lang||"en")+"&callback=twitterFetcher.callback&suppress_response_codes=true&rnd="+Math.random(),t.appendChild(C)}},callback:function(a){function p(e){var t=e.getElementsByTagName("img")[0];return t.src=t.getAttribute("data-src-2x"),e}var C=document.createElement("div");C.innerHTML=a.body,"undefined"==typeof C.getElementsByClassName&&(u=!1),a=[];var k=[],x=[],E=[],N=[],$=[],_=[],I=0;if(u)for(C=C.getElementsByClassName("timeline-Tweet");I<C.length;)0<C[I].getElementsByClassName("timeline-Tweet-retweetCredit").length?N.push(!0):N.push(!1),(!N[I]||N[I]&&w)&&(a.push(C[I].getElementsByClassName("timeline-Tweet-text")[0]),$.push(C[I].getAttribute("data-tweet-id")),k.push(p(C[I].getElementsByClassName("timeline-Tweet-author")[0])),x.push(C[I].getElementsByClassName("dt-updated")[0]),_.push(C[I].getElementsByClassName("timeline-Tweet-timestamp")[0]),void 0!==C[I].getElementsByClassName("timeline-Tweet-media")[0]?E.push(C[I].getElementsByClassName("timeline-Tweet-media")[0]):E.push(void 0)),I++;else for(C=n(C,"timeline-Tweet");I<C.length;)0<n(C[I],"timeline-Tweet-retweetCredit").length?N.push(!0):N.push(!1),(!N[I]||N[I]&&w)&&(a.push(n(C[I],"timeline-Tweet-text")[0]),$.push(C[I].getAttribute("data-tweet-id")),k.push(p(n(C[I],"timeline-Tweet-author")[0])),x.push(n(C[I],"dt-updated")[0]),_.push(n(C[I],"timeline-Tweet-timestamp")[0]),void 0!==n(C[I],"timeline-Tweet-media")[0]?E.push(n(C[I],"timeline-Tweet-media")[0]):E.push(void 0)),I++;a.length>l&&(a.splice(l,a.length-l),k.splice(l,k.length-l),x.splice(l,x.length-l),N.splice(l,N.length-l),E.splice(l,E.length-l),_.splice(l,_.length-l));var C=[],I=a.length,B=0;if(b)for(;B<I;)C.push({tweet:a[B].innerHTML,author:k[B].innerHTML,time:x[B].textContent,image:s(E[B]),rt:N[B],tid:$[B],permalinkURL:void 0===_[B]?"":_[B].href}),B++;else for(;B<I;){if("string"!=typeof h){var N=x[B].getAttribute("datetime"),A=new Date(x[B].getAttribute("datetime").replace(/-/g,"/").replace("T"," ").split("+")[0]),N=h(A,N);if(x[B].setAttribute("aria-label",N),a[B].textContent)if(u)x[B].textContent=N;else{var A=document.createElement("p"),L=document.createTextNode(N);A.appendChild(L),A.setAttribute("aria-label",N),x[B]=A}else x[B].textContent=N}N="",o?(v&&(i(a[B]),m&&i(k[B])),m&&(N+='<div class="user">'+t(k[B].innerHTML)+"</div>"),N+='<p class="tweet">'+t(a[B].innerHTML)+"</p>",c&&(N=T?N+('<p class="timePosted"><a href="'+_[B]+'">'+x[B].getAttribute("aria-label")+"</a></p>"):N+('<p class="timePosted">'+x[B].getAttribute("aria-label")+"</p>"))):(m&&(N+='<p class="user">'+k[B].textContent+"</p>"),N+='<p class="tweet">'+a[B].textContent+"</p>",c&&(N+='<p class="timePosted">'+x[B].textContent+"</p>")),f&&(N+='<p class="interact"><a href="https://twitter.com/intent/tweet?in_reply_to='+$[B]+'" class="twitter_reply_icon"'+(v?' target="_blank">':">")+'Reply</a><a href="https://twitter.com/intent/retweet?tweet_id='+$[B]+'" class="twitter_retweet_icon"'+(v?' target="_blank">':">")+'Retweet</a><a href="https://twitter.com/intent/favorite?tweet_id='+$[B]+'" class="twitter_fav_icon"'+(v?' target="_blank">':">")+"Favorite</a></p>"),g&&void 0!==E[B]&&(N+='<div class="media"><img src="'+s(E[B])+'" alt="Image from tweet" /></div>'),C.push(N),B++}e(C),d=!1,0<r.length&&(y.fetch(r[0]),r.splice(0,1))}};return window.twitterFetcher=y});var lastTweets={id:"725025430223360001",domId:"lastTweets",maxTweets:3,enableLinks:!0,showPermalinks:!1,showImages:!1,showRetweet:!1};twitterFetcher.fetch(lastTweets);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIiwibGFzdF90d2VldHMuanMiXSwibmFtZXMiOlsiaGFuZGxlU2Nyb2xsIiwiJHNjcm9sbFRvcCIsIiQiLCJ3aW5kb3ciLCJzY3JvbGxUb3AiLCJzY3JvbGwiLCJzdG9wIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsInRpbWVsaW5lIiwiaGlkZUJsb2NrcyIsImJsb2NrcyIsIm9mZnNldCIsImVhY2giLCJ0aGlzIiwidG9wIiwiaGVpZ2h0IiwiZmluZCIsInNob3dCbG9ja3MiLCJoYXNDbGFzcyIsIiR0aW1lbGluZUJsb2NrcyIsIm9uIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic2V0VGltZW91dCIsImRvY3VtZW50IiwicmVhZHkiLCJDIiwicCIsImRlZmluZSIsImFtZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJhIiwiciIsImciLCJsZW5ndGgiLCJjIiwiayIsImdldEVsZW1lbnRCeUlkIiwiRCIsImYiLCJpbm5lckhUTUwiLCJyZXBsYWNlIiwiRSIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwic2V0QXR0cmlidXRlIiwibCIsIlJlZ0V4cCIsImgiLCJiIiwidGVzdCIsImNsYXNzTmFtZSIsInB1c2giLCJGIiwiaW5kZXhPZiIsIm1hdGNoIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwic3BsaXQiLCJHIiwidiIsIngiLCJ5IiwidyIsInoiLCJBIiwiQiIsIkgiLCJJIiwidCIsIkoiLCJLIiwibSIsIkwiLCJmZXRjaCIsIm1heFR3ZWV0cyIsImVuYWJsZUxpbmtzIiwic2hvd1VzZXIiLCJzaG93VGltZSIsImRhdGVGdW5jdGlvbiIsInNob3dSZXR3ZWV0IiwiY3VzdG9tQ2FsbGJhY2siLCJzaG93SW50ZXJhY3Rpb24iLCJzaG93SW1hZ2VzIiwibGlua3NJbk5ld1dpbmRvdyIsInNob3dQZXJtYWxpbmtzIiwiZGF0YU9ubHkiLCJkb21JZCIsInJlbW92ZUNoaWxkIiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJzcmMiLCJpZCIsImxhbmciLCJNYXRoIiwicmFuZG9tIiwiYXBwZW5kQ2hpbGQiLCJjYWxsYmFjayIsImdldEF0dHJpYnV0ZSIsImJvZHkiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwicSIsIm4iLCJlIiwic3BsaWNlIiwiZCIsInR3ZWV0IiwiYXV0aG9yIiwidGltZSIsInRleHRDb250ZW50IiwiaW1hZ2UiLCJydCIsInRpZCIsInBlcm1hbGlua1VSTCIsImhyZWYiLCJ1IiwiRGF0ZSIsImNyZWF0ZVRleHROb2RlIiwidHdpdHRlckZldGNoZXIiLCJsYXN0VHdlZXRzIl0sIm1hcHBpbmdzIjoiQUFBQSxjQUNBLFdBUUEsUUFBQUEsS0FDQUMsRUFBQUMsRUFBQUMsUUFBQUMsWUFDQUYsRUFBQUMsUUFBQUUsT0FBQSxXQUNBSixFQUFBQyxFQUFBQyxRQUFBQyxZQUNBSCxFQUFBLEdBQ0FDLEVBQUEsYUFBQUksTUFBQSxHQUFBLEdBQUFDLFNBQUEsZUFBQSxLQUVBTCxFQUFBLGFBQUFJLE1BQUEsR0FBQSxHQUFBRSxZQUFBLGVBQUEsT0FLQSxRQUFBQyxLQWdCQSxRQUFBQyxHQUFBQyxFQUFBQyxHQUNBRCxFQUFBRSxLQUFBLFdBQ0FYLEVBQUFZLE1BQUFGLFNBQUFHLElBQUFiLEVBQUFDLFFBQUFDLFlBQUFGLEVBQUFDLFFBQUFhLFNBQUFKLEdBQUFWLEVBQUFZLE1BQUFHLEtBQUEsMENBQUFWLFNBQUEsZUFJQSxRQUFBVyxHQUFBUCxFQUFBQyxHQUNBRCxFQUFBRSxLQUFBLFdBQ0FYLEVBQUFZLE1BQUFGLFNBQUFHLEtBQUFiLEVBQUFDLFFBQUFDLFlBQUFGLEVBQUFDLFFBQUFhLFNBQUFKLEdBQUFWLEVBQUFZLE1BQUFHLEtBQUEsb0JBQUFFLFNBQUEsY0FBQWpCLEVBQUFZLE1BQUFHLEtBQUEsMENBQUFULFlBQUEsYUFBQUQsU0FBQSxlQXZCQSxHQUFBYSxHQUFBbEIsRUFBQSxzQkFDQVUsRUFBQSxFQUdBRixHQUFBVSxFQUFBUixHQUdBVixFQUFBQyxRQUFBa0IsR0FBQSxTQUFBLFdBQ0FsQixPQUFBbUIsc0JBRUFuQixPQUFBbUIsc0JBQUEsV0FDQUosRUFBQUUsRUFBQVIsS0FIQVcsV0FBQSxXQUNBTCxFQUFBRSxFQUFBUixJQUNBLE9BOUJBLEdBQUFYLEVBRUFDLEdBQUFzQixVQUFBQyxNQUFBLFdBQ0F6QixJQUNBUyxTQytCQSxTQUFBaUIsRUFBQUMsR0FDQSxrQkFBQUMsU0FBQUEsT0FBQUMsSUFBQUQsVUFBQUQsR0FBQSxnQkFBQUcsU0FBQUMsT0FBQUQsUUFBQUgsSUFBQUEsS0FDQWIsS0FBQSxXQUNBLFFBQUFZLEdBQUFNLEdBQ0EsR0FBQSxPQUFBQyxFQUFBLENBQ0EsSUFBQSxHQUFBQyxHQUFBRixFQUFBRyxPQUFBQyxFQUFBLEVBQUFDLEVBQUFiLFNBQUFjLGVBQUFDLEdBQUFDLEVBQUEsT0FBQUosRUFBQUYsR0FBQU0sR0FBQSxPQUFBUixFQUFBSSxHQUFBLFFBQUFBLEdBQ0FDLEdBQUFJLFVBQUFELEVBQUEsWUFDQVAsR0FBQUQsR0FHQSxRQUFBTCxHQUFBSyxHQUNBLE1BQUFBLEdBQUFVLFFBQUEsdUJBQUEsU0FBQVYsRUFBQUksR0FDQSxNQUFBQSxLQUNBTSxRQUFBLHNHQUFBLElBR0EsUUFBQUMsR0FBQVgsR0FDQUEsRUFBQUEsRUFBQVkscUJBQUEsSUFDQSxLQUFBLEdBQUFWLEdBQUFGLEVBQUFHLE9BQUEsRUFBQSxHQUFBRCxFQUFBQSxJQUFBRixFQUFBRSxHQUFBVyxhQUFBLFNBQUEsVUFHQSxRQUFBQyxHQUFBZCxFQUFBRSxHQUNBLElBQUEsR0FBQUUsTUFBQUMsRUFBQSxHQUFBVSxRQUFBLFFBQUFiLEVBQUEsU0FBQU0sRUFBQVIsRUFBQVkscUJBQUEsS0FBQUksRUFBQSxFQUFBQyxFQUFBVCxFQUFBTCxPQUFBYSxFQUFBQyxFQUFBRCxJQUFBWCxFQUFBYSxLQUFBVixFQUFBUSxHQUFBRyxZQUFBZixFQUFBZ0IsS0FBQVosRUFBQVEsR0FDQSxPQUFBWixHQUdBLFFBQUFpQixHQUFBckIsR0FDQSxHQUFBLFNBQUFBLEdBQUEsR0FBQUEsRUFBQVMsVUFBQWEsUUFBQSxlQUFBLE1BQUF0QixHQUFBQSxFQUFBUyxVQUFBYyxNQUFBLGtDQUFBLEdBQUFDLG1CQUFBeEIsR0FBQXlCLE1BQUEsS0FBQSxHQUVBLEdBQUFsQixHQUFBLEdBQ0FMLEVBQUEsR0FDQXdCLEdBQUEsRUFDQUMsS0FDQUMsR0FBQSxFQUNBQyxHQUFBLEVBQ0FDLEdBQUEsRUFDQUMsRUFBQSxLQUNBQyxHQUFBLEVBQ0FDLEdBQUEsRUFDQWhDLEVBQUEsS0FDQWlDLEdBQUEsRUFDQUMsR0FBQSxFQUNBQyxHQUFBLEVBQ0FDLEdBQUEsRUFDQUMsR0FBQSxFQUNBQyxFQUFBLEtBQ0FDLEdBQ0FDLE1BQUEsU0FBQXpDLEdBZUEsR0FkQSxTQUNBQSxFQUFBMEMsWUFBQTFDLEVBQUEwQyxVQUFBLElBQ0EsU0FBQTFDLEVBQUEyQyxjQUFBM0MsRUFBQTJDLGFBQUEsR0FDQSxTQUFBM0MsRUFBQTRDLFdBQUE1QyxFQUFBNEMsVUFBQSxHQUNBLFNBQUE1QyxFQUFBNkMsV0FBQTdDLEVBQUE2QyxVQUFBLEdBQ0EsU0FBQTdDLEVBQUE4QyxlQUFBOUMsRUFBQThDLGFBQUEsV0FDQSxTQUFBOUMsRUFBQStDLGNBQUEvQyxFQUFBK0MsYUFBQSxHQUNBLFNBQUEvQyxFQUFBZ0QsaUJBQUFoRCxFQUFBZ0QsZUFBQSxNQUNBLFNBQUFoRCxFQUFBaUQsa0JBQUFqRCxFQUFBaUQsaUJBQUEsR0FDQSxTQUFBakQsRUFBQWtELGFBQUFsRCxFQUFBa0QsWUFBQSxHQUNBLFNBQUFsRCxFQUFBbUQsbUJBQUFuRCxFQUFBbUQsa0JBQUEsR0FDQSxTQUFBbkQsRUFBQW9ELGlCQUFBcEQsRUFBQW9ELGdCQUFBLEdBQ0EsU0FBQXBELEVBQUFxRCxXQUNBckQsRUFBQXFELFVBQUEsR0FDQXpCLEVBQUFELEVBQUFQLEtBQUFwQixPQUNBLENBQ0E0QixHQUFBLEVBQ0FyQixFQUFBUCxFQUFBc0QsTUFDQXBELEVBQUFGLEVBQUEwQyxVQUNBaEIsRUFBQTFCLEVBQUEyQyxZQUNBYixFQUFBOUIsRUFBQTRDLFNBQ0FmLEVBQUE3QixFQUFBNkMsU0FDQVosRUFBQWpDLEVBQUErQyxZQUNBaEIsRUFBQS9CLEVBQUE4QyxhQUNBN0MsRUFBQUQsRUFBQWdELGVBQ0FkLEVBQUFsQyxFQUFBaUQsZ0JBQ0FkLEVBQUFuQyxFQUFBa0QsV0FDQWQsRUFBQXBDLEVBQUFtRCxpQkFDQWQsRUFBQXJDLEVBQUFvRCxlQUNBZCxFQUFBdEMsRUFBQXFELFFBQ0EsSUFBQXZDLEdBQUF0QixTQUFBb0IscUJBQUEsUUFBQSxFQUNBLFFBQUEyQixHQUFBekIsRUFBQXlDLFlBQUFoQixHQUNBQSxFQUFBL0MsU0FBQWdFLGNBQUEsVUFDQWpCLEVBQUFrQixLQUFBLGtCQUNBbEIsRUFBQW1CLElBQUEsdURBQUExRCxFQUFBMkQsR0FBQSxXQUFBM0QsRUFBQTRELE1BQUEsTUFBQSxzRUFDQUMsS0FBQUMsU0FDQWhELEVBQUFpRCxZQUFBeEIsS0FHQXlCLFNBQUEsU0FBQWhFLEdBQ0EsUUFBQXVDLEdBQUF2QyxHQUNBLEdBQUFpQixHQUFBakIsRUFBQVkscUJBQUEsT0FBQSxFQUVBLE9BREFLLEdBQUF5QyxJQUFBekMsRUFBQWdELGFBQUEsZUFDQWpFLEVBRUEsR0FBQUksR0FBQVosU0FBQWdFLGNBQUEsTUFDQXBELEdBQUFLLFVBQUFULEVBQUFrRSxLQUNBLG1CQUFBOUQsR0FBQStELHlCQUFBbkMsR0FBQSxHQUNBaEMsSUFDQSxJQUFBSyxNQUNBRyxLQUNBUSxLQUNBQyxLQUNBbUQsS0FDQUMsS0FDQUMsRUFBQSxDQUNBLElBQUF0QyxFQUNBLElBQUE1QixFQUFBQSxFQUFBK0QsdUJBQUEsa0JBQUFHLEVBQUFsRSxFQUFBRCxRQUNBLEVBQUFDLEVBQUFrRSxHQUFBSCx1QkFBQSxnQ0FBQWhFLE9BQUFjLEVBQUFHLE1BQUEsR0FBQUgsRUFBQUcsTUFBQSxLQUNBSCxFQUFBcUQsSUFBQXJELEVBQUFxRCxJQUFBckMsS0FBQWpDLEVBQUFvQixLQUFBaEIsRUFBQWtFLEdBQUFILHVCQUFBLHVCQUFBLElBQ0FDLEVBQUFoRCxLQUFBaEIsRUFBQWtFLEdBQUFMLGFBQUEsa0JBQUE1RCxFQUFBZSxLQUFBbUIsRUFBQW5DLEVBQUFrRSxHQUFBSCx1QkFBQSx5QkFBQSxLQUFBM0QsRUFBQVksS0FBQWhCLEVBQUFrRSxHQUFBSCx1QkFBQSxjQUFBLElBQUFFLEVBQUFqRCxLQUFBaEIsRUFBQWtFLEdBQUFILHVCQUFBLDRCQUFBLElBQUEsU0FBQS9ELEVBQUFrRSxHQUFBSCx1QkFBQSx3QkFBQSxHQUFBbkQsRUFBQUksS0FBQWhCLEVBQUFrRSxHQUFBSCx1QkFBQSx3QkFBQSxJQUFBbkQsRUFBQUksS0FBQSxTQUNBa0QsUUFFQSxLQUFBbEUsRUFBQVUsRUFBQVYsRUFBQSxrQkFBQWtFLEVBQUFsRSxFQUFBRCxRQUNBLEVBQUFXLEVBQUFWLEVBQUFrRSxHQUFBLGdDQUFBbkUsT0FBQWMsRUFBQUcsTUFBQSxHQUFBSCxFQUFBRyxNQUFBLEtBQ0FILEVBQUFxRCxJQUNBckQsRUFBQXFELElBQUFyQyxLQUFBakMsRUFBQW9CLEtBQUFOLEVBQUFWLEVBQUFrRSxHQUFBLHVCQUFBLElBQUFGLEVBQUFoRCxLQUFBaEIsRUFBQWtFLEdBQUFMLGFBQUEsa0JBQUE1RCxFQUFBZSxLQUFBbUIsRUFBQXpCLEVBQUFWLEVBQUFrRSxHQUFBLHlCQUFBLEtBQUE5RCxFQUFBWSxLQUFBTixFQUFBVixFQUFBa0UsR0FBQSxjQUFBLElBQUFELEVBQUFqRCxLQUFBTixFQUFBVixFQUFBa0UsR0FBQSw0QkFBQSxJQUFBLFNBQUF4RCxFQUFBVixFQUFBa0UsR0FBQSx3QkFBQSxHQUFBdEQsRUFBQUksS0FBQU4sRUFBQVYsRUFBQWtFLEdBQUEsd0JBQUEsSUFBQXRELEVBQUFJLEtBQUEsU0FDQWtELEdBRUF0RSxHQUFBRyxPQUFBRCxJQUFBRixFQUFBdUUsT0FBQXJFLEVBQUFGLEVBQUFHLE9BQUFELEdBQUFHLEVBQUFrRSxPQUFBckUsRUFBQUcsRUFBQUYsT0FBQUQsR0FBQU0sRUFBQStELE9BQUFyRSxFQUFBTSxFQUFBTCxPQUFBRCxHQUFBZSxFQUFBc0QsT0FBQXJFLEVBQUFlLEVBQUFkLE9BQUFELEdBQUFjLEVBQUF1RCxPQUFBckUsRUFBQWMsRUFBQWIsT0FBQUQsR0FBQW1FLEVBQUFFLE9BQUFyRSxFQUFBbUUsRUFBQWxFLE9BQUFELEdBQ0EsSUFBQUUsTUFDQWtFLEVBQUF0RSxFQUFBRyxPQUNBcUUsRUFBQSxDQUNBLElBQUFsQyxFQUNBLEtBQUFrQyxFQUNBRixHQUFBbEUsRUFBQWdCLE1BQ0FxRCxNQUFBekUsRUFBQXdFLEdBQUEvRCxVQUNBaUUsT0FBQXJFLEVBQUFtRSxHQUFBL0QsVUFDQWtFLEtBQUFuRSxFQUFBZ0UsR0FBQUksWUFDQUMsTUFBQXhELEVBQUFMLEVBQUF3RCxJQUNBTSxHQUFBN0QsRUFBQXVELEdBQ0FPLElBQUFYLEVBQUFJLEdBQ0FRLGFBQUEsU0FBQVgsRUFBQUcsR0FBQSxHQUFBSCxFQUFBRyxHQUFBUyxPQUNBVCxRQUVBLE1BQUFBLEVBQUFGLEdBQUEsQ0FDQSxHQUFBLGdCQUFBdkMsR0FBQSxDQUNBLEdBQUFkLEdBQUFULEVBQUFnRSxHQUFBUCxhQUFBLFlBQ0FpQixFQUFBLEdBQUFDLE1BQUEzRSxFQUFBZ0UsR0FBQVAsYUFBQSxZQUFBdkQsUUFBQSxLQUFBLEtBQUFBLFFBQUEsSUFBQSxLQUFBZSxNQUFBLEtBQUEsSUFDQVIsRUFBQWMsRUFBQW1ELEVBQUFqRSxFQUVBLElBREFULEVBQUFnRSxHQUFBM0QsYUFBQSxhQUFBSSxHQUNBakIsRUFBQXdFLEdBQUFJLFlBQ0EsR0FBQTVDLEVBQUF4QixFQUFBZ0UsR0FBQUksWUFBQTNELE1BQ0EsQ0FDQSxHQUFBaUUsR0FBQTFGLFNBQUFnRSxjQUFBLEtBQ0F2RCxFQUFBVCxTQUFBNEYsZUFBQW5FLEVBQ0FpRSxHQUFBbkIsWUFBQTlELEdBQ0FpRixFQUFBckUsYUFBQSxhQUNBSSxHQUNBVCxFQUFBZ0UsR0FBQVUsTUFDQTFFLEdBQUFnRSxHQUFBSSxZQUFBM0QsRUFFQUEsRUFBQSxHQUNBUyxHQUFBVSxJQUFBekIsRUFBQVgsRUFBQXdFLElBQUExQyxHQUFBbkIsRUFBQU4sRUFBQW1FLEtBQUExQyxJQUFBYixHQUFBLHFCQUFBdEIsRUFBQVUsRUFBQW1FLEdBQUEvRCxXQUFBLFVBQUFRLEdBQUEsb0JBQUF0QixFQUFBSyxFQUFBd0UsR0FBQS9ELFdBQUEsT0FBQW9CLElBQUFaLEVBQUFvQixFQUFBcEIsR0FBQSxrQ0FBQW9ELEVBQUFHLEdBQUEsS0FBQWhFLEVBQUFnRSxHQUFBUCxhQUFBLGNBQUEsWUFBQWhELEdBQUEseUJBQUFULEVBQUFnRSxHQUFBUCxhQUFBLGNBQUEsV0FBQW5DLElBQUFiLEdBQUEsbUJBQUFaLEVBQUFtRSxHQUFBSSxZQUFBLFFBQUEzRCxHQUFBLG9CQUFBakIsRUFBQXdFLEdBQUFJLFlBQUEsT0FBQS9DLElBQUFaLEdBQUEseUJBQUFULEVBQUFnRSxHQUFBSSxZQUFBLFNBQ0ExQyxJQUFBakIsR0FDQSw2RUFBQW1ELEVBQUFJLEdBQUEsZ0NBQUFwQyxFQUFBLG9CQUFBLEtBQUEsaUVBQUFnQyxFQUFBSSxHQUFBLGtDQUFBcEMsRUFBQSxvQkFBQSxLQUFBLG9FQUFBZ0MsRUFBQUksR0FBQSw4QkFBQXBDLEVBQUEsb0JBQUEsS0FBQSxvQkFDQUQsR0FBQSxTQUFBbkIsRUFBQXdELEtBQUF2RCxHQUFBLGdDQUFBSSxFQUFBTCxFQUFBd0QsSUFBQSxxQ0FDQXBFLEVBQUFnQixLQUFBSCxHQUNBdUQsSUFFQTlFLEVBQUFVLEdBQ0F3QixHQUFBLEVBQ0EsRUFBQUQsRUFBQXhCLFNBQUFxQyxFQUFBQyxNQUFBZCxFQUFBLElBQUFBLEVBQUE0QyxPQUFBLEVBQUEsS0FHQSxPQUFBcEcsUUFBQWtILGVBQUE3QyxHQUlBLElBQUE4QyxhQUNBM0IsR0FBQSxxQkFDQUwsTUFBQSxhQUNBWixVQUFBLEVBQ0FDLGFBQUEsRUFDQVMsZ0JBQUEsRUFDQUYsWUFBQSxFQUNBSCxhQUFBLEVBRUFzQyxnQkFBQTVDLE1BQUE2QyIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcbihmdW5jdGlvbigpIHtcclxuICAgIHZhciAkc2Nyb2xsVG9wO1xyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGhhbmRsZVNjcm9sbCgpO1xyXG4gICAgICAgIHRpbWVsaW5lKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBoYW5kbGVTY3JvbGwoKSB7XHJcbiAgICAgICAgJHNjcm9sbFRvcCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcclxuICAgICAgICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkc2Nyb2xsVG9wID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xyXG4gICAgICAgICAgICBpZiAoJHNjcm9sbFRvcCA+IDEwKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcubWFzdGhlYWQnKS5zdG9wKHRydWUsIHRydWUpLmFkZENsYXNzKCduYXYtc2Nyb2xsZWQnLCA1MDApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCgnLm1hc3RoZWFkJykuc3RvcCh0cnVlLCB0cnVlKS5yZW1vdmVDbGFzcygnbmF2LXNjcm9sbGVkJywgNTAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRpbWVsaW5lKCkge1xyXG4gICAgICAgIHZhciAkdGltZWxpbmVCbG9ja3MgPSAkKCcuY2QtdGltZWxpbmUtYmxvY2snKSxcclxuICAgICAgICAgICAgb2Zmc2V0ID0gMC44O1xyXG5cclxuICAgICAgICAvL2hpZGUgdGltZWxpbmUgYmxvY2tzIHdoaWNoIGFyZSBvdXRzaWRlIHRoZSB2aWV3cG9ydFxyXG4gICAgICAgIGhpZGVCbG9ja3MoJHRpbWVsaW5lQmxvY2tzLCBvZmZzZXQpO1xyXG5cclxuICAgICAgICAvL29uIHNjb2xsaW5nLCBzaG93L2FuaW1hdGUgdGltZWxpbmUgYmxvY2tzIHdoZW4gZW50ZXIgdGhlIHZpZXdwb3J0XHJcbiAgICAgICAgJCh3aW5kb3cpLm9uKCdzY3JvbGwnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgKCF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSA/IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBzaG93QmxvY2tzKCR0aW1lbGluZUJsb2Nrcywgb2Zmc2V0KTtcclxuICAgICAgICAgICAgfSwgMTAwKTogd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNob3dCbG9ja3MoJHRpbWVsaW5lQmxvY2tzLCBvZmZzZXQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaGlkZUJsb2NrcyhibG9ja3MsIG9mZnNldCkge1xyXG4gICAgICAgICAgICBibG9ja3MuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICgkKHRoaXMpLm9mZnNldCgpLnRvcCA+ICQod2luZG93KS5zY3JvbGxUb3AoKSArICQod2luZG93KS5oZWlnaHQoKSAqIG9mZnNldCkgJiYgJCh0aGlzKS5maW5kKCcuY2QtdGltZWxpbmUtaW1nLCAuY2QtdGltZWxpbmUtY29udGVudCcpLmFkZENsYXNzKCdpcy1oaWRkZW4nKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzaG93QmxvY2tzKGJsb2Nrcywgb2Zmc2V0KSB7XHJcbiAgICAgICAgICAgIGJsb2Nrcy5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgKCQodGhpcykub2Zmc2V0KCkudG9wIDw9ICQod2luZG93KS5zY3JvbGxUb3AoKSArICQod2luZG93KS5oZWlnaHQoKSAqIG9mZnNldCAmJiAkKHRoaXMpLmZpbmQoJy5jZC10aW1lbGluZS1pbWcnKS5oYXNDbGFzcygnaXMtaGlkZGVuJykpICYmICQodGhpcykuZmluZCgnLmNkLXRpbWVsaW5lLWltZywgLmNkLXRpbWVsaW5lLWNvbnRlbnQnKS5yZW1vdmVDbGFzcygnaXMtaGlkZGVuJykuYWRkQ2xhc3MoJ2JvdW5jZS1pbicpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7IiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKiAgIyMjIyBUd2l0dGVyIFBvc3QgRmV0Y2hlciB2MTUuMC4xICMjIyNcclxuICogIENvZGVkIGJ5IEphc29uIE1heWVzIDIwMTUuIEEgcHJlc2VudCB0byBhbGwgdGhlIGRldmVsb3BlcnMgb3V0IHRoZXJlLlxyXG4gKiAgd3d3Lmphc29ubWF5ZXMuY29tXHJcbiAqICBHaXRodWI6IGh0dHBzOi8vZ2l0aHViLmNvbS9qYXNvbm1heWVzL1R3aXR0ZXItUG9zdC1GZXRjaGVyXHJcbiAtXHJcbiAgVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcblxyXG4gIENvcHlyaWdodCAoYykgMjAxNSBKYXNvbiBNYXllcyAgd3d3Lmphc29ubWF5ZXMuY29tXHJcblxyXG4gIFBsZWFzZSBrZWVwIHRoaXMgZGlzY2xhaW1lciB3aXRoIG15IGNvZGUgaWYgeW91IHVzZSBpdC4gVGhhbmtzLiA6LSlcclxuXHJcbiAgR290IGZlZWRiYWNrIG9yIHF1ZXN0aW9ucywgYXNrIGhlcmU6XHJcbiAgaHR0cDovL3d3dy5qYXNvbm1heWVzLmNvbS9wcm9qZWN0cy90d2l0dGVyQXBpL1xyXG5cclxuICBHaXRodWI6IGh0dHBzOi8vZ2l0aHViLmNvbS9qYXNvbm1heWVzL1R3aXR0ZXItUG9zdC1GZXRjaGVyXHJcbiAgVXBkYXRlcyB3aWxsIGJlIHBvc3RlZCB0byB0aGlzIHNpdGUuXHJcblxyXG4gIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxuICBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbiAgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG4gIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuICBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuICBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuICBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGxcclxuICBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG5cclxuICBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbiAgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbiAgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbiAgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG4gIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbiAgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEVcclxuICBTT0ZUV0FSRS5cclxuLVxyXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4oZnVuY3Rpb24oQywgcCkge1xyXG4gICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZGVmaW5lICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoW10sIHApIDogXCJvYmplY3RcIiA9PT0gdHlwZW9mIGV4cG9ydHMgPyBtb2R1bGUuZXhwb3J0cyA9IHAoKSA6IHAoKVxyXG59KSh0aGlzLCBmdW5jdGlvbigpIHtcclxuICAgIGZ1bmN0aW9uIEMoYSkge1xyXG4gICAgICAgIGlmIChudWxsID09PSByKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGcgPSBhLmxlbmd0aCwgYyA9IDAsIGsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChEKSwgZiA9IFwiPHVsPlwiOyBjIDwgZzspIGYgKz0gXCI8bGk+XCIgKyBhW2NdICsgXCI8L2xpPlwiLCBjKys7XHJcbiAgICAgICAgICAgIGsuaW5uZXJIVE1MID0gZiArIFwiPC91bD5cIlxyXG4gICAgICAgIH0gZWxzZSByKGEpXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcChhKSB7XHJcbiAgICAgICAgcmV0dXJuIGEucmVwbGFjZSgvPGJbXj5dKj4oLio/KTxcXC9iPi9naSwgZnVuY3Rpb24oYSwgYykge1xyXG4gICAgICAgICAgICByZXR1cm4gY1xyXG4gICAgICAgIH0pLnJlcGxhY2UoL2NsYXNzPVwiKD8hKHRjby1oaWRkZW58dGNvLWRpc3BsYXl8dGNvLWVsbGlwc2lzKSkrLio/XCJ8ZGF0YS1xdWVyeS1zb3VyY2U9XCIuKj9cInxkaXI9XCIuKj9cInxyZWw9XCIuKj9cIi9naSwgXCJcIilcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBFKGEpIHtcclxuICAgICAgICBhID0gYS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImFcIik7XHJcbiAgICAgICAgZm9yICh2YXIgZyA9IGEubGVuZ3RoIC0gMTsgMCA8PSBnOyBnLS0pIGFbZ10uc2V0QXR0cmlidXRlKFwidGFyZ2V0XCIsIFwiX2JsYW5rXCIpXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbChhLCBnKSB7XHJcbiAgICAgICAgZm9yICh2YXIgYyA9IFtdLCBrID0gbmV3IFJlZ0V4cChcIihefCApXCIgKyBnICsgXCIoIHwkKVwiKSwgZiA9IGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLCBoID0gMCwgYiA9IGYubGVuZ3RoOyBoIDwgYjsgaCsrKSBrLnRlc3QoZltoXS5jbGFzc05hbWUpICYmIGMucHVzaChmW2hdKTtcclxuICAgICAgICByZXR1cm4gY1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIEYoYSkge1xyXG4gICAgICAgIGlmICh2b2lkIDAgIT09IGEgJiYgMCA8PSBhLmlubmVySFRNTC5pbmRleE9mKFwiZGF0YS1zcmNzZXRcIikpIHJldHVybiBhID0gYS5pbm5lckhUTUwubWF0Y2goL2RhdGEtc3Jjc2V0PVwiKFtBLXowLTklX1xcLi1dKykvaSlbMF0sIGRlY29kZVVSSUNvbXBvbmVudChhKS5zcGxpdCgnXCInKVsxXVxyXG4gICAgfVxyXG4gICAgdmFyIEQgPSBcIlwiLFxyXG4gICAgICAgIGcgPSAyMCxcclxuICAgICAgICBHID0gITAsXHJcbiAgICAgICAgdiA9IFtdLFxyXG4gICAgICAgIHggPSAhMSxcclxuICAgICAgICB5ID0gITAsXHJcbiAgICAgICAgdyA9ICEwLFxyXG4gICAgICAgIHogPSBudWxsLFxyXG4gICAgICAgIEEgPSAhMCxcclxuICAgICAgICBCID0gITAsXHJcbiAgICAgICAgciA9IG51bGwsXHJcbiAgICAgICAgSCA9ICEwLFxyXG4gICAgICAgIEkgPSAhMSxcclxuICAgICAgICB0ID0gITAsXHJcbiAgICAgICAgSiA9ICEwLFxyXG4gICAgICAgIEsgPSAhMSxcclxuICAgICAgICBtID0gbnVsbCxcclxuICAgICAgICBMID0ge1xyXG4gICAgICAgICAgICBmZXRjaDogZnVuY3Rpb24oYSkge1xyXG4gICAgICAgICAgICAgICAgdm9pZCAwID09PVxyXG4gICAgICAgICAgICAgICAgICAgIGEubWF4VHdlZXRzICYmIChhLm1heFR3ZWV0cyA9IDIwKTtcclxuICAgICAgICAgICAgICAgIHZvaWQgMCA9PT0gYS5lbmFibGVMaW5rcyAmJiAoYS5lbmFibGVMaW5rcyA9ICEwKTtcclxuICAgICAgICAgICAgICAgIHZvaWQgMCA9PT0gYS5zaG93VXNlciAmJiAoYS5zaG93VXNlciA9ICEwKTtcclxuICAgICAgICAgICAgICAgIHZvaWQgMCA9PT0gYS5zaG93VGltZSAmJiAoYS5zaG93VGltZSA9ICEwKTtcclxuICAgICAgICAgICAgICAgIHZvaWQgMCA9PT0gYS5kYXRlRnVuY3Rpb24gJiYgKGEuZGF0ZUZ1bmN0aW9uID0gXCJkZWZhdWx0XCIpO1xyXG4gICAgICAgICAgICAgICAgdm9pZCAwID09PSBhLnNob3dSZXR3ZWV0ICYmIChhLnNob3dSZXR3ZWV0ID0gITApO1xyXG4gICAgICAgICAgICAgICAgdm9pZCAwID09PSBhLmN1c3RvbUNhbGxiYWNrICYmIChhLmN1c3RvbUNhbGxiYWNrID0gbnVsbCk7XHJcbiAgICAgICAgICAgICAgICB2b2lkIDAgPT09IGEuc2hvd0ludGVyYWN0aW9uICYmIChhLnNob3dJbnRlcmFjdGlvbiA9ICEwKTtcclxuICAgICAgICAgICAgICAgIHZvaWQgMCA9PT0gYS5zaG93SW1hZ2VzICYmIChhLnNob3dJbWFnZXMgPSAhMSk7XHJcbiAgICAgICAgICAgICAgICB2b2lkIDAgPT09IGEubGlua3NJbk5ld1dpbmRvdyAmJiAoYS5saW5rc0luTmV3V2luZG93ID0gITApO1xyXG4gICAgICAgICAgICAgICAgdm9pZCAwID09PSBhLnNob3dQZXJtYWxpbmtzICYmIChhLnNob3dQZXJtYWxpbmtzID0gITApO1xyXG4gICAgICAgICAgICAgICAgdm9pZCAwID09PSBhLmRhdGFPbmx5ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgKGEuZGF0YU9ubHkgPSAhMSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoeCkgdi5wdXNoKGEpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCA9ICEwO1xyXG4gICAgICAgICAgICAgICAgICAgIEQgPSBhLmRvbUlkO1xyXG4gICAgICAgICAgICAgICAgICAgIGcgPSBhLm1heFR3ZWV0cztcclxuICAgICAgICAgICAgICAgICAgICBHID0gYS5lbmFibGVMaW5rcztcclxuICAgICAgICAgICAgICAgICAgICB3ID0gYS5zaG93VXNlcjtcclxuICAgICAgICAgICAgICAgICAgICB5ID0gYS5zaG93VGltZTtcclxuICAgICAgICAgICAgICAgICAgICBCID0gYS5zaG93UmV0d2VldDtcclxuICAgICAgICAgICAgICAgICAgICB6ID0gYS5kYXRlRnVuY3Rpb247XHJcbiAgICAgICAgICAgICAgICAgICAgciA9IGEuY3VzdG9tQ2FsbGJhY2s7XHJcbiAgICAgICAgICAgICAgICAgICAgSCA9IGEuc2hvd0ludGVyYWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIEkgPSBhLnNob3dJbWFnZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdCA9IGEubGlua3NJbk5ld1dpbmRvdztcclxuICAgICAgICAgICAgICAgICAgICBKID0gYS5zaG93UGVybWFsaW5rcztcclxuICAgICAgICAgICAgICAgICAgICBLID0gYS5kYXRhT25seTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcclxuICAgICAgICAgICAgICAgICAgICBudWxsICE9PSBtICYmIGwucmVtb3ZlQ2hpbGQobSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgbS50eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIjtcclxuICAgICAgICAgICAgICAgICAgICBtLnNyYyA9IFwiaHR0cHM6Ly9jZG4uc3luZGljYXRpb24udHdpbWcuY29tL3dpZGdldHMvdGltZWxpbmVzL1wiICsgYS5pZCArIFwiPyZsYW5nPVwiICsgKGEubGFuZyB8fCBcImVuXCIpICsgXCImY2FsbGJhY2s9dHdpdHRlckZldGNoZXIuY2FsbGJhY2smc3VwcHJlc3NfcmVzcG9uc2VfY29kZXM9dHJ1ZSZybmQ9XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLnJhbmRvbSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGwuYXBwZW5kQ2hpbGQobSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKGEpIHtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG0oYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBiID0gYS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImltZ1wiKVswXTtcclxuICAgICAgICAgICAgICAgICAgICBiLnNyYyA9IGIuZ2V0QXR0cmlidXRlKFwiZGF0YS1zcmMtMnhcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICAgICAgICAgIGMuaW5uZXJIVE1MID0gYS5ib2R5O1xyXG4gICAgICAgICAgICAgICAgXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIGMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAmJiAoQSA9ICExKTtcclxuICAgICAgICAgICAgICAgIGEgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBrID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgZiA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGggPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICBiID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgcSA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIG4gPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICBlID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChBKVxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoYyA9IGMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInRpbWVsaW5lLVR3ZWV0XCIpOyBlIDwgYy5sZW5ndGg7KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDAgPCBjW2VdLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ0aW1lbGluZS1Ud2VldC1yZXR3ZWV0Q3JlZGl0XCIpLmxlbmd0aCA/IGIucHVzaCghMCkgOiBiLnB1c2goITEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWJbZV0gfHwgYltlXSAmJiBCKSBhLnB1c2goY1tlXS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwidGltZWxpbmUtVHdlZXQtdGV4dFwiKVswXSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxLnB1c2goY1tlXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXR3ZWV0LWlkXCIpKSwgay5wdXNoKG0oY1tlXS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwidGltZWxpbmUtVHdlZXQtYXV0aG9yXCIpWzBdKSksIGYucHVzaChjW2VdLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJkdC11cGRhdGVkXCIpWzBdKSwgbi5wdXNoKGNbZV0uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInRpbWVsaW5lLVR3ZWV0LXRpbWVzdGFtcFwiKVswXSksIHZvaWQgMCAhPT0gY1tlXS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwidGltZWxpbmUtVHdlZXQtbWVkaWFcIilbMF0gPyBoLnB1c2goY1tlXS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwidGltZWxpbmUtVHdlZXQtbWVkaWFcIilbMF0pIDogaC5wdXNoKHZvaWQgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUrK1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGMgPSBsKGMsIFwidGltZWxpbmUtVHdlZXRcIik7IGUgPCBjLmxlbmd0aDspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAgPCBsKGNbZV0sIFwidGltZWxpbmUtVHdlZXQtcmV0d2VldENyZWRpdFwiKS5sZW5ndGggPyBiLnB1c2goITApIDogYi5wdXNoKCExKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYltlXSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJbZV0gJiYgQikgYS5wdXNoKGwoY1tlXSwgXCJ0aW1lbGluZS1Ud2VldC10ZXh0XCIpWzBdKSwgcS5wdXNoKGNbZV0uZ2V0QXR0cmlidXRlKFwiZGF0YS10d2VldC1pZFwiKSksIGsucHVzaChtKGwoY1tlXSwgXCJ0aW1lbGluZS1Ud2VldC1hdXRob3JcIilbMF0pKSwgZi5wdXNoKGwoY1tlXSwgXCJkdC11cGRhdGVkXCIpWzBdKSwgbi5wdXNoKGwoY1tlXSwgXCJ0aW1lbGluZS1Ud2VldC10aW1lc3RhbXBcIilbMF0pLCB2b2lkIDAgIT09IGwoY1tlXSwgXCJ0aW1lbGluZS1Ud2VldC1tZWRpYVwiKVswXSA/IGgucHVzaChsKGNbZV0sIFwidGltZWxpbmUtVHdlZXQtbWVkaWFcIilbMF0pIDogaC5wdXNoKHZvaWQgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlKytcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYS5sZW5ndGggPiBnICYmIChhLnNwbGljZShnLCBhLmxlbmd0aCAtIGcpLCBrLnNwbGljZShnLCBrLmxlbmd0aCAtIGcpLCBmLnNwbGljZShnLCBmLmxlbmd0aCAtIGcpLCBiLnNwbGljZShnLCBiLmxlbmd0aCAtIGcpLCBoLnNwbGljZShnLCBoLmxlbmd0aCAtIGcpLCBuLnNwbGljZShnLCBuLmxlbmd0aCAtIGcpKTtcclxuICAgICAgICAgICAgICAgIHZhciBjID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgZSA9IGEubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgIGQgPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKEspXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGQgPFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlOykgYy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHdlZXQ6IGFbZF0uaW5uZXJIVE1MLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRob3I6IGtbZF0uaW5uZXJIVE1MLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiBmW2RdLnRleHRDb250ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogRihoW2RdKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcnQ6IGJbZF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpZDogcVtkXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGVybWFsaW5rVVJMOiB2b2lkIDAgPT09IG5bZF0gPyBcIlwiIDogbltkXS5ocmVmXHJcbiAgICAgICAgICAgICAgICAgICAgfSksIGQrKztcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgZCA8IGU7KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiICE9PSB0eXBlb2Ygeikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSBmW2RdLmdldEF0dHJpYnV0ZShcImRhdGV0aW1lXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUgPSBuZXcgRGF0ZShmW2RdLmdldEF0dHJpYnV0ZShcImRhdGV0aW1lXCIpLnJlcGxhY2UoLy0vZywgXCIvXCIpLnJlcGxhY2UoXCJUXCIsIFwiIFwiKS5zcGxpdChcIitcIilbMF0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIgPSB6KHUsIGIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZltkXS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIGIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFbZF0udGV4dENvbnRlbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEEpIGZbZF0udGV4dENvbnRlbnQgPSBiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1LmFwcGVuZENoaWxkKHIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmW2RdID0gdVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBmW2RdLnRleHRDb250ZW50ID0gYlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGIgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBHID8gKHQgJiYgKEUoYVtkXSksIHcgJiYgRShrW2RdKSksIHcgJiYgKGIgKz0gJzxkaXYgY2xhc3M9XCJ1c2VyXCI+JyArIHAoa1tkXS5pbm5lckhUTUwpICsgXCI8L2Rpdj5cIiksIGIgKz0gJzxwIGNsYXNzPVwidHdlZXRcIj4nICsgcChhW2RdLmlubmVySFRNTCkgKyBcIjwvcD5cIiwgeSAmJiAoYiA9IEogPyBiICsgKCc8cCBjbGFzcz1cInRpbWVQb3N0ZWRcIj48YSBocmVmPVwiJyArIG5bZF0gKyAnXCI+JyArIGZbZF0uZ2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiKSArIFwiPC9hPjwvcD5cIikgOiBiICsgKCc8cCBjbGFzcz1cInRpbWVQb3N0ZWRcIj4nICsgZltkXS5nZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpICsgXCI8L3A+XCIpKSkgOiAodyAmJiAoYiArPSAnPHAgY2xhc3M9XCJ1c2VyXCI+JyArIGtbZF0udGV4dENvbnRlbnQgKyBcIjwvcD5cIiksIGIgKz0gJzxwIGNsYXNzPVwidHdlZXRcIj4nICsgYVtkXS50ZXh0Q29udGVudCArIFwiPC9wPlwiLCB5ICYmIChiICs9ICc8cCBjbGFzcz1cInRpbWVQb3N0ZWRcIj4nICsgZltkXS50ZXh0Q29udGVudCArIFwiPC9wPlwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEggJiYgKGIgKz1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8cCBjbGFzcz1cImludGVyYWN0XCI+PGEgaHJlZj1cImh0dHBzOi8vdHdpdHRlci5jb20vaW50ZW50L3R3ZWV0P2luX3JlcGx5X3RvPScgKyBxW2RdICsgJ1wiIGNsYXNzPVwidHdpdHRlcl9yZXBseV9pY29uXCInICsgKHQgPyAnIHRhcmdldD1cIl9ibGFua1wiPicgOiBcIj5cIikgKyAnUmVwbHk8L2E+PGEgaHJlZj1cImh0dHBzOi8vdHdpdHRlci5jb20vaW50ZW50L3JldHdlZXQ/dHdlZXRfaWQ9JyArIHFbZF0gKyAnXCIgY2xhc3M9XCJ0d2l0dGVyX3JldHdlZXRfaWNvblwiJyArICh0ID8gJyB0YXJnZXQ9XCJfYmxhbmtcIj4nIDogXCI+XCIpICsgJ1JldHdlZXQ8L2E+PGEgaHJlZj1cImh0dHBzOi8vdHdpdHRlci5jb20vaW50ZW50L2Zhdm9yaXRlP3R3ZWV0X2lkPScgKyBxW2RdICsgJ1wiIGNsYXNzPVwidHdpdHRlcl9mYXZfaWNvblwiJyArICh0ID8gJyB0YXJnZXQ9XCJfYmxhbmtcIj4nIDogXCI+XCIpICsgXCJGYXZvcml0ZTwvYT48L3A+XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBJICYmIHZvaWQgMCAhPT0gaFtkXSAmJiAoYiArPSAnPGRpdiBjbGFzcz1cIm1lZGlhXCI+PGltZyBzcmM9XCInICsgRihoW2RdKSArICdcIiBhbHQ9XCJJbWFnZSBmcm9tIHR3ZWV0XCIgLz48L2Rpdj4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYy5wdXNoKGIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkKytcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBDKGMpO1xyXG4gICAgICAgICAgICAgICAgeCA9ICExO1xyXG4gICAgICAgICAgICAgICAgMCA8IHYubGVuZ3RoICYmIChMLmZldGNoKHZbMF0pLCB2LnNwbGljZSgwLCAxKSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICByZXR1cm4gd2luZG93LnR3aXR0ZXJGZXRjaGVyID0gTFxyXG59KTtcclxuXHJcblxyXG52YXIgbGFzdFR3ZWV0cyA9IHtcclxuICAgIFwiaWRcIjogJzcyNTAyNTQzMDIyMzM2MDAwMScsXHJcbiAgICBcImRvbUlkXCI6ICdsYXN0VHdlZXRzJyxcclxuICAgIFwibWF4VHdlZXRzXCI6IDMsXHJcbiAgICBcImVuYWJsZUxpbmtzXCI6IHRydWUsXHJcbiAgICBcInNob3dQZXJtYWxpbmtzXCI6IGZhbHNlLFxyXG4gICAgXCJzaG93SW1hZ2VzXCI6IGZhbHNlLFxyXG4gICAgXCJzaG93UmV0d2VldFwiOiBmYWxzZVxyXG59O1xyXG50d2l0dGVyRmV0Y2hlci5mZXRjaChsYXN0VHdlZXRzKTsiXX0=
